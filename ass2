
# ðŸ§© **Assignment 2 â€“ Creational Design Patterns**

---

## **Set A**

---

### **Q1. Factory Method â€“ Pizza Store**

**Question:**
Write a Java Program to implement **Factory Method** for a Pizza Store with methods `createPizza()`, `orderPizza()`, `prepare()`, `bake()`, `cut()`, `box()`.
Use it to create different pizzas like `NyStyleCheesePizza`, `ChicagoStyleCheesePizza`.

**Steps:**

1. Create abstract class `Pizza` with preparation steps.
2. Extend `PizzaStore` to implement `createPizza()` factory method.
3. Concrete stores create specific pizzas.

**Code:**

```java
// Pizza.java
public abstract class Pizza {
    String name;
    void prepare() { System.out.println("Preparing " + name); }
    void bake() { System.out.println("Baking " + name); }
    void cut() { System.out.println("Cutting " + name); }
    void box() { System.out.println("Boxing " + name); }
    String getName() { return name; }
}
```

```java
// NYStyleCheesePizza.java
public class NYStyleCheesePizza extends Pizza {
    public NYStyleCheesePizza() { name = "NY Style Cheese Pizza"; }
}
```

```java
// ChicagoStyleCheesePizza.java
public class ChicagoStyleCheesePizza extends Pizza {
    public ChicagoStyleCheesePizza() { name = "Chicago Style Cheese Pizza"; }
}
```

```java
// PizzaStore.java
public abstract class PizzaStore {
    public Pizza orderPizza(String type) {
        Pizza pizza = createPizza(type);
        pizza.prepare();
        pizza.bake();
        pizza.cut();
        pizza.box();
        return pizza;
    }
    protected abstract Pizza createPizza(String type);
}
```

```java
// NYPizzaStore.java
public class NYPizzaStore extends PizzaStore {
    protected Pizza createPizza(String type) {
        if (type.equals("cheese")) return new NYStyleCheesePizza();
        return null;
    }
}
```

```java
// ChicagoPizzaStore.java
public class ChicagoPizzaStore extends PizzaStore {
    protected Pizza createPizza(String type) {
        if (type.equals("cheese")) return new ChicagoStyleCheesePizza();
        return null;
    }
}
```

```java
// PizzaTestDrive.java
public class PizzaTestDrive {
    public static void main(String[] args) {
        PizzaStore nyStore = new NYPizzaStore();
        PizzaStore chicagoStore = new ChicagoPizzaStore();
        Pizza pizza1 = nyStore.orderPizza("cheese");
        System.out.println("Ordered a " + pizza1.getName());
        Pizza pizza2 = chicagoStore.orderPizza("cheese");
        System.out.println("Ordered a " + pizza2.getName());
    }
}
```

---

### **Q2. Singleton Design Pattern â€“ Database Connection**

**Question:**
Create a Java class `DatabaseConnection` using Singleton pattern.
Ensure only one instance exists, even with multiple threads.

**Steps:**

1. Private constructor.
2. Static instance variable.
3. Public `getInstance()` method with thread safety.

**Code:**

```java
// DatabaseConnection.java
public class DatabaseConnection {
    private static DatabaseConnection instance;

    private DatabaseConnection() { }

    public static synchronized DatabaseConnection getInstance() {
        if (instance == null) {
            instance = new DatabaseConnection();
        }
        return instance;
    }

    public void connect() {
        System.out.println("Database connected with instance: " + instance.hashCode());
    }
}

// DatabaseTest.java
public class DatabaseTest {
    public static void main(String[] args) {
        DatabaseConnection c1 = DatabaseConnection.getInstance();
        DatabaseConnection c2 = DatabaseConnection.getInstance();
        c1.connect();
        c2.connect();
    }
}
```

---

### **Q3. Abstract Factory Pattern â€“ Mobile Features**

**Question:**
Implement an **Abstract Factory Pattern** for mobile phones with features like `takePhoto()` and `recordVideo()`.

**Steps:**

1. Create interfaces for `Camera` and `VideoRecorder`.
2. Create concrete factories for `Android` and `iOS`.
3. Test by producing devices through factory.

**Code:**

```java
// Camera.java
public interface Camera { void takePhoto(); }
public interface VideoRecorder { void recordVideo(); }
```

```java
// AndroidCamera.java
public class AndroidCamera implements Camera {
    public void takePhoto() { System.out.println("Android photo taken"); }
}
```

```java
// IOSCamera.java
public class IOSCamera implements Camera {
    public void takePhoto() { System.out.println("iOS photo taken"); }
}
```

```java
// AndroidRecorder.java
public class AndroidRecorder implements VideoRecorder {
    public void recordVideo() { System.out.println("Android video recording"); }
}
```

```java
// IOSRecorder.java
public class IOSRecorder implements VideoRecorder {
    public void recordVideo() { System.out.println("iOS video recording"); }
}
```

```java
// AbstractFactory.java
public interface AbstractFactory {
    Camera createCamera();
    VideoRecorder createRecorder();
}
```

```java
// AndroidFactory.java
public class AndroidFactory implements AbstractFactory {
    public Camera createCamera() { return new AndroidCamera(); }
    public VideoRecorder createRecorder() { return new AndroidRecorder(); }
}
```

```java
// IOSFactory.java
public class IOSFactory implements AbstractFactory {
    public Camera createCamera() { return new IOSCamera(); }
    public VideoRecorder createRecorder() { return new IOSRecorder(); }
}
```

```java
// FactoryDemo.java
public class FactoryDemo {
    public static void main(String[] args) {
        AbstractFactory android = new AndroidFactory();
        AbstractFactory ios = new IOSFactory();
        android.createCamera().takePhoto();
        android.createRecorder().recordVideo();
        ios.createCamera().takePhoto();
        ios.createRecorder().recordVideo();
    }
}
```

---

## **Set B**

---

### **Q1. Abstract Factory â€“ Cars by Region**

**Question:**
Create cars and specifications specific to North America and Europe.

**Code:**

```java
// Car.java
public interface Car { void specifications(); }

// NACompactCar.java
public class NACompactCar implements Car {
    public void specifications() { System.out.println("North America Compact Car"); }
}

// EUCompactCar.java
public class EUCompactCar implements Car {
    public void specifications() { System.out.println("Europe Compact Car"); }
}

// CarFactory.java
public interface CarFactory { Car createCompactCar(); }

// NACarFactory.java
public class NACarFactory implements CarFactory {
    public Car createCompactCar() { return new NACompactCar(); }
}

// EUCarFactory.java
public class EUCarFactory implements CarFactory {
    public Car createCompactCar() { return new EUCompactCar(); }
}

// CarFactoryDemo.java
public class CarFactoryDemo {
    public static void main(String[] args) {
        CarFactory na = new NACarFactory();
        CarFactory eu = new EUCarFactory();
        na.createCompactCar().specifications();
        eu.createCompactCar().specifications();
    }
}
```

---

### **Q2. Singleton with Multithreading**

**Question:**
Implement thread-safe Singleton.

**Code:**

```java
// ThreadSafeSingleton.java
public class ThreadSafeSingleton {
    private static volatile ThreadSafeSingleton instance;

    private ThreadSafeSingleton() {}

    public static ThreadSafeSingleton getInstance() {
        if (instance == null) {
            synchronized (ThreadSafeSingleton.class) {
                if (instance == null)
                    instance = new ThreadSafeSingleton();
            }
        }
        return instance;
    }

    public void showMessage() {
        System.out.println("Instance ID: " + this.hashCode());
    }
}

// SingletonTest.java
public class SingletonTest {
    public static void main(String[] args) {
        Runnable task = () -> {
            ThreadSafeSingleton s = ThreadSafeSingleton.getInstance();
            s.showMessage();
        };
        new Thread(task).start();
        new Thread(task).start();
    }
}
```

---

## **Set C**

---

### **Q1. Singleton Logger Service**

**Question:**
Create `LoggerService` Singleton with a private constructor and public static instance.

**Code:**

```java
// LoggerService.java
public class LoggerService {
    private static LoggerService instance = new LoggerService();
    private LoggerService() {}
    public static LoggerService getInstance() { return instance; }
    public void log(String msg) { System.out.println("Log: " + msg); }
}

// LoggerTest.java
public class LoggerTest {
    public static void main(String[] args) {
        LoggerService logger1 = LoggerService.getInstance();
        LoggerService logger2 = LoggerService.getInstance();
        logger1.log("Starting app...");
        System.out.println(logger1 == logger2);
    }
}
```

---

### **Q2. Prototype Pattern â€“ Shape Clone**

**Question:**
Implement a `Shape` interface with `clone()` and use it to duplicate objects.

**Code:**

```java
// Shape.java
public interface Shape extends Cloneable {
    Shape clone();
    void draw();
}

// Circle.java
public class Circle implements Shape {
    public Shape clone() { return new Circle(); }
    public void draw() { System.out.println("Drawing Circle"); }
}

// Rectangle.java
public class Rectangle implements Shape {
    public Shape clone() { return new Rectangle(); }
    public void draw() { System.out.println("Drawing Rectangle"); }
}

// PrototypeDemo.java
public class PrototypeDemo {
    public static void main(String[] args) {
        Shape circle1 = new Circle();
        Shape circle2 = circle1.clone();
        circle1.draw();
        circle2.draw();
    }
}
```

---


